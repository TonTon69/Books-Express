// Scroll navbar
$(document).ready(function () {
  $(window).scroll(function () {
    if (this.scrollY > 20) {
      $("nav").addClass("sticky");
    } else {
      $("nav").removeClass("sticky");
    }
  });
});

// API delete book
document.addEventListener("DOMContentLoaded", function () {
  var bookId;
  var deleteFormBook = document.forms["delete-book-form"];
  var btnDeleteBook = document.getElementById("btn-delete-book");

  //When dialog confirm clicked
  $("#delete-book-modal").on("show.bs.modal", function (event) {
    var button = $(event.relatedTarget);
    bookId = button.data("id");
  });
  //When delete book btn clicked
  btnDeleteBook.onclick = function () {
    deleteFormBook.action = "/books/" + bookId + "?_method=DELETE";
    deleteFormBook.submit();
  };
});

// API delete author
document.addEventListener("DOMContentLoaded", function () {
  var authorId;
  var deleteFormAuthor = document.forms["delete-author-form"];
  var btnDeleteAuthor = document.getElementById("btn-delete-author");

  $("#delete-author-modal").on("show.bs.modal", function (event) {
    var button = $(event.relatedTarget);
    authorId = button.data("id");
  });
  btnDeleteAuthor.onclick = function () {
    deleteFormAuthor.action = "/authors/" + authorId + "?_method=DELETE";
    deleteFormAuthor.submit();
  };
});
